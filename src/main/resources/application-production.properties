# Production Environment Configuration

# Default DataSource (Production)
spring.datasource.default.jdbc-url=${SPRING_DATASOURCE_DEFAULT_JDBC_URL:jdbc:mysql://193.140.136.11:3306/duyuru}
spring.datasource.default.username=${SPRING_DATASOURCE_DEFAULT_USERNAME:mobiluser11}
spring.datasource.default.password=${SPRING_DATASOURCE_DEFAULT_PASSWORD:MaviCubuk25!!}
spring.datasource.default.driver-class-name=com.mysql.cj.jdbc.Driver

# News DataSource (Production)
spring.datasource.news.jdbc-url=${SPRING_DATASOURCE_NEWS_JDBC_URL:jdbc:mysql://193.140.102.118:3306/gaunhabermerkezivt}
spring.datasource.news.username=${SPRING_DATASOURCE_NEWS_USERNAME:SakinKullan11}
spring.datasource.news.password=${SPRING_DATASOURCE_NEWS_PASSWORD:Pelikan2025Mavi!!}
spring.datasource.news.driver-class-name=com.mysql.cj.jdbc.Driver

# Events DataSource (Production)
spring.datasource.events.jdbc-url=${SPRING_DATASOURCE_EVENTS_JDBC_URL:jdbc:mysql://193.140.136.11:3306/duyuru}
spring.datasource.events.username=${SPRING_DATASOURCE_EVENTS_USERNAME:mobiluser11}
spring.datasource.events.password=${SPRING_DATASOURCE_EVENTS_PASSWORD:MaviCubuk25!!}
spring.datasource.events.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.events.hikari.connection-timeout=20000
spring.datasource.events.hikari.maximum-pool-size=5
spring.datasource.events.hikari.minimum-idle=2
spring.datasource.events.hikari.pool-name=EventsHikariPool

# Remote Config DataSource (MariaDB - Production)
spring.datasource.remoteconfig.jdbc-url=${SPRING_DATASOURCE_REMOTECONFIG_JDBC_URL:jdbc:mariadb://193.140.136.26:3306/useful_links}
spring.datasource.remoteconfig.username=${SPRING_DATASOURCE_REMOTECONFIG_USERNAME:root}
spring.datasource.remoteconfig.password=${SPRING_DATASOURCE_REMOTECONFIG_PASSWORD:sahinbey_}
spring.datasource.remoteconfig.driver-class-name=org.mariadb.jdbc.Driver
spring.datasource.remoteconfig.hikari.connection-timeout=20000
spring.datasource.remoteconfig.hikari.maximum-pool-size=5
spring.datasource.remoteconfig.hikari.minimum-idle=2
spring.datasource.remoteconfig.hikari.pool-name=RemoteConfigHikariPool

# Connection Pool Settings
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.properties.hibernate.format_sql=false

# Server Configuration
server.port=8082
server.servlet.context-path=/mobilewebservices

# Logging Configuration
logging.level.root=INFO
logging.level.com.mobilewebservices=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate.SQL=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=/app/logs/mobilewebservices.log

# Application Configuration
spring.application.name=mobilewebservices

# SpringDoc/Swagger Configuration
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.try-it-out-enabled=true

# Swagger server URL - HTTPS kullan
springdoc.swagger-ui.server-url=https://hesap.gaziantep.edu.tr
springdoc.api-docs.server=https://hesap.gaziantep.edu.tr/mobilewebservices
# Server URL'i override et - HTTPS kullan
server.forward-headers-strategy=framework

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true
management.info.env.enabled=true
management.health.db.enabled=false
management.health.defaults.enabled=false
management.health.diskspace.enabled=true

# Application Information
info.app.name=Mobile Web Services
info.app.description=Mobile Web Services API for GAUN
info.app.version=@project.version@

# CORS Configuration
app.cors.allowed-origins=*
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
app.cors.allowed-headers=Authorization,Content-Type,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers
app.cors.max-age=3600

# Cache Configuration
spring.cache.type=caffeine
spring.cache.cache-names=announcements,articles,posts,events,food-menus,latest-announcements,latest-articles,latest-posts,latest-events,sliders,latest-sliders,sliders-last-month,usefulLinks,configVersion
spring.cache.caffeine.spec=initialCapacity=100,maximumSize=1000,expireAfterWrite=30m

# Flyway Configuration
spring.flyway.enabled=false
